#!/usr/bin/env node

/**
 * This file is part of maidbot.
 * Copyright (c) 2013 vomitcuddle <shinku@dollbooru.org>
 * License: ISC.
 */

// Dependencies.
var version = require('../package.json').version,
    maidbot = require('../maidbot');

// Command line parser.
var argv = require('optimist')
  .usage("maidbot " + version + "\nI'm here to serve you...\n\nUsage: $0 [config-file.json]")
  .boolean("config-check")
  .describe("config-check", 'Validates config file and quits immediately.')
  .demand(1).argv;

console.log("\u001b[36mmaidbot\u001b[0;1m " + version + "\u001b[0m");

if (argv["check-config"]) {
  // Check configuration file for errors.
  maidbot.testConfig(argv._[0]);
} else {
  // Start maidbot.
  maidbot.init(argv._[0]);
}
